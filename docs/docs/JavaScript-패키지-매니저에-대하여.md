<br>
<br>

# JavaScript 패키지 매니저에 대하여

## JavaScript 패키지 매니저란?

JavaScript 언어를 사용하여 개발된 소프트웨어 프로젝트에서의 **의존성 관리와 패키지 설치를 도와주는 도구.**

이 도구들은 프로젝트에 필요한 **외부 라이브러리, 모듈, 플러그인 등을 쉽게 관리**하고 프로젝트에 통합함.

### 1. 패키지 설치

패키지 매니저를 사용하여 프로젝트에 필요한 패키지 설치 가능. 패키지는 일반적으로 오픈 소스 라이브러리이며, 패키지 매니저를 통해 피키지의 이름 또는 버전을 지정하여 설치할 수 있다.

### 2. 의존성 관리

패키지 매니저는 프로젝트 의존성을 관리한다. 패키지는 다른 패키지에 의존할 수 있으며, **패키지 매니저는 이러한 의존성을 자동으로 해결**하여 필요한 패키지들을 설치한다.

### 3. 버전 관리

패키지 매니저는 패키지의 다양한 버전을 관리한다. 이를 통해 특정 버전의 패키지를 설치하거나 업데이트할 수 있으며, 프로젝트가 정확한 버전의 패키지를 사용하도록 보장할 수 있다.

### 4. 스크립트 실행

패키지 매니저는 프로젝트에 미리 정의된 스크립트를 실행하는 기능을 제공한다. 이를 통해 빌드, 테스트, 배포 등의 자동화된 작업을 수행할 수 있다.

대표적인 자바스크립트 패키지 매니저로는 npm, pnpm, yarn, yarn berry 등이 있다.

<br>
<br>

## 패키지 매니저 별 특징

### npm (Node Package Manager)

Node.js 생태계의 가장 대표적인 패키지 매니저.
Node.js와 함께 기본적으로 설치되며, 많은 개발자들이 널리 사용함.
강력한 CLI(Command Line Interface)를 제공하며 패키지 설치, 버전 관리, 의존성 해결등의 기능을 수행함.

패키지 설치 시 패키지들을 각각 별도로 설치한다. 이로 인해 공유된 의존성이 중복으로 설치될 수 있다. 의존성 트리가 깊어질수록 패키지 설치 속도가 느려지고, 디스크 공간을 많이 차지할 수 있다.

### pnpm

npm의 의존성 문제를 해결하기 위해 고안된 패키지 매니저.
고유 설치와 플랫 노드 모듈을 통해 의존성 관리를 최적화한다.
다중 프로젝트에서 의존성을 공유하고, 중복 설치를 피하여 저장 공간을 절약할 수 있다.

npm과 달리 의존성을 공유하여 저장 공간을 최적화 한다. Flat node_modules 구조를 사용하여 파일 시스템의 깊이를 줄이고 의존성 트리를 단순화한다.
동시 설치 기능을 지원하여 의존성 설치 속도를 향상시킨다.

### yarn

Facebook에서 개발한 패키지 매니저. npm과 비슷한 목적을 가지고 있다.
npm의 단점을 보완하고, 더 나은 성능과 안정성을 제공하며, 여러 개의 패키지를 병렬로 설치하여 빠른 속도를 보장한다. yarn.lock 파일을 사용하여 의존성을 더욱 확실히 관리한다.

여러 패키지를 동시에 가져오고 설치하도록 최적화되어 있어 npm보다 빠른 의존성 설치 속도와 패키지 버전 관리를 제공한다. yarn.lock 파일을 사용하여 의존성 트리를 고정시켜 재현 가능한 빌드를 지원한다. 캐시 기능을 제공하여 패키지 다운로드를 최적화한다.

### yarn berry:

Yarn의 새로운 버전. 다중 패키지 프로젝트를 위한 기능을 강화한 패키지 매니저이다. Zero-install과 Plug'n'Play를 통해 의존성 설치 속도를 향상시키고 저장 공간을 절약한다. Workspaces 기능을 제공하여 여러 패키지를 하나의 저장소로 관리할 수 있다.

zero-install 기능을 통해 의존성을 로컬에 별도로 설치하지 않고 필요한 시점에 즉석에서 사용한다. Plug'n'Play를 통해 가상 파일 시스템을 사용하여 의존성 설치를 최적화한다. Workspaces 기능을 통해 모노레포 형식의 프로젝트를 관리할 수 있다.

<br>

## 요약

npm은 기본적인 패키지 매니저  
pnpm은 npm의 의존성 문제를 해결한 패키지 매니저  
yarn은 npm보다 빠른 의존성 설치와 버전 관리를 제공하는 패키지 매니저  
yarn berry는 다중 패키지 프로젝트를 위한 기능을 강화한 yarn의 버전

pnpm과 yarn berry는 모노레포 환경에서 효과적으로 사용될 수 있다.

<br>
<br>

## npm vs Yarn vs Yarn Berry(Yarn 2.0)

1. 패키지 설치 방식

   - npm: 패키지를 설치할 때, `node_modules` 디렉토리에 패키지를 설치하고, 해당 패키지의 의존성 관리를 `package.json`과 `package-lock.json` 파일로 처리함.
   - Yarn(이전 버전): npm과 유사하게 `node_modules` 디렉토리에 패키지를 설치하고, `package.json`과 `yarn.lock` 파일로 의존성을 관리함.
   - Yarn Berry(Yarn 2.0): 설치된 패키지들을 `.yarn/cache` 디렉토리에 캐싱하고, `package.json` 파일만으로 의존성을 관리함. -> `node_modules` 디렉토리를 사용하지 않음.

2. 패키지 저장소

   - npm: npm 공식 저장소 사용
   - Yarn: npm 저장소를 사용하거나, 필요에 따라 다른 저장소도 사용할 수 있음.
   - Yarn Berry(Yarn 2.0): npm 저장소를 사용하지 않고, 자체적으로 관리되는 플러그인 시스템을 통해 패키지를 관리함.

3. 자체 의존성 해결 알고리즘:

   - npm: npm의 의존성 해결 알고리즘 사용
   - Yarn: Yarn의 독자적인 의존성 해결 알고리즘 사용. 보다 효율적으로 의존성 해결.
   - Yarn Berry: 자체적인 의존성 해결 알고리즘. 성능과 효율성이 개선됨.

4. Zero-installs(영구 설치):
   - Yarn Berry: zero-installs를 지원함. 프로젝트에 필요한 패키지들을 전역에 설치하지 않고 프로젝트 내부에서만 관리할 수 있음.

<br>
<br>

# 내가 선택한 패키지 매니저

### npm

내 프로젝트는 외부 라이브러리가. bootstrap 밖에 없다. 따라서 여러개의 패키지를 병렬적으로 설치하여 속도를 높이거나, 패키지 간 얽힌 의존성에 대해 걱정을 할 필요가 없다. 또한 npm이 가장 근본 패키지 매니저처럼 보이므로, 이왕 쓴다면 차근차근 npm부터 시작하고 싶다.
